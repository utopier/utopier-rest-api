# Cross Browser Testing

- Reference
  - https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing

---

## 목차

1. Cross Browser Testing 소개
2. 테스트 수행 전략
3. 일반적인 HTML 및 CSS 문제 처리
4. 일반적인 JavaScript 문제 처리
5. 일반적인 접근성 문제 처리
6. 기능 감지 구현
7. 자동화 테스트 소개
8. 자체 테스트 자동화 환경 설정

---

## 1. Cross Browser Testing 소개

1. 크로스 브라우저 테스트란
   - 브라우저, 장치, 추가 보조 도구에 관계없이 모든 사용자를 위해 작동하는지 확인하는 것
     - 구형 브라우저에서의 최신 CSS, JavaScript 기능 지원 여부
     - 최신 디바이스 ~ 구형 디바이스
     - 보조 과학 기술 사용자, 키보드만 사용하는 사람
   - 웹 개발자는 다양한 브라우저 및 장치에서 웹사이트가 동작할 수 있도록 방어적으로 코딩해야함.
2. 크로스 브라우저 문제가 발생하는 이유
   - 1990년대 브라우저 회사들간의 경쟁으로 의도적으로 서로 다른게 구현해서 브라우저에 버그가 있거나 기능이 다르게 구현될 수 있다. 요즘 브라우저는 표준을 따르는데 훨씬 더 좋으나 차이점과 버그는 여전히 발생함.
   - 브라우저 버전별 기능 지원 수준이 달라서 최신 JavaScript 기능이 이전 브라우저에서 동작하지 않을 수 있음. 이는 그러한 기능을 사용하지 않거나 크로스 컴파일러를 사용해 코드를 구식버전으로 바꿔야함.
   - 디바이스 별 차이로 인해 이슈 발생. 데스크탑에서는 잘 작동하나 모바일에서는 읽기 어려운 디자인 일수도 있고 고사양 디바이스에서는 잘 작동하는 애니메이션이나 저사양 디바이스에서는 느리거나 불안정 할 수 있음.
3. 크로스 브라우저 테스트를 위한 워크플로우

- 초기계획 > 개발 > 테스트/발견 > 수정/반복
  - **초기계획**
    - 필요한 기능들과 기능을 구축 할 기술에 대한 정의
    - 대상 고객 탐색
    - 대상 고객이 사용하는 브라우저, 디바이스 등 정의
    - 대상 테스트 플랫폼에서 필요한 기능과 사용할 기술 검토
    - http://caniuse.com/ 에서 브라우저 지원정보 찾기
  - **개발**
    - 모듈로 분할해서 개발
    - 크로스 브라우저 개발 전략
      1. 모든 대상 브라우저에서 가능한 한 가깝게 작동하는 모든 기능 개발. 브라우저 별 코드 경로를 작성하거나 Polyfill 사용하거나 단일 비트 코드를 작성할 수 있는 라이브러리 사용.
      2. 일부 기능이 모든 브라우저에서 동일하게 작동하지 않을 것이라는 점을 인정하고 전체 기능을 지원하지 않는 다른 브라우저에는 다른 솔루션 제공.
      3. 일부 구형 브라우저에서는 작동하지 않을 것이라는 것을 인정하고 개발.
  - **테스트/발견**
    - 각 기능 구현 단계 후에 새로운 기능 테스트
    1. Chrome, Safari, Firefox, IE, Edge 등 안정적인 브라우저에서 테스트
    2. lo-fi 접근성 테스트 수행(키보드, 화면판독기)
    3. 모바일 플랫폼 테스트(Android, iOS)
    - 물리적 하드웨어 테스트
    - 개발 팀 외부의 사용자 그룹에서 테스트
    - 자체 테스트 자동화 도구(Selenium)
    - 상용 테스트 자동화 도구(Sauce Labs, LambdaTest, TestingBot 등)
    - 시험한 브라우저에서 테스트
  - **수정/반복**
    - 버그 발견 후 수정

---

## 2. 테스트 수행 전략

1. 테스트 브라우저 목록 작성

- 가장 중요한 대상 브라우저 및 장치에서 작동하는지 확인한 다음 방어적으로 코딩(지능형 폴백)해 사이트에서 기대할 수 있는 가장 광범위한 지원 범위를 제공.
- 브라우저 지원 등급 형식
  1. A 등급 : 일반/최신 브라우저
  2. B 등급 : 불가능한 브라우저/일부 불가능한 브라우저
  3. C 등급 : 희귀하거나 알 수 없는 브라우저
  - **교육된 추측**
  - **브라우저 지원 통계**
  - **분석 사용**
  - **기타 고려 사항**
  - **최종 지원 차트**

2. 테스트 요구 사항 목록 작성
3. 테스트 랩 구성
   - **물리적 장치**
   - **에뮬레이터**
   - **가상머신**
   - **자동화 및 상용 앱**
4. 사용자 테스트

---

## 3. 일반적인 HTML 및 CSS 문제 처리

1. HTML과 CSS의 문제
2. 일반적인 문제 해결
   - **확인**
     - W3C Markup Validation Service (https://validator.w3.org/)
     - CSS Validator (http://jigsaw.w3.org/css-validator/)
   - **린터**
     - Dirty Markup, CSS Lint
   - **브라우저 개발자 도구**
3. 일반적인 크로스 브라우저 문제
   - **최신 기능을 지원하지 않는 구형 브라우저**
     1. HTML 대체 동작
     2. CSS 대체 동작
     3. IE 조건부 주석
     4. 선택기 지원
     5. CSS 접두사 처리
   - **레이아웃 문제**
     1. 새로운 레이아웃 지원
     2. 반응형 디자인
4. 도움 찾기

---

## 4. 일반적인 JavaScript 문제 처리

1. 자바스크립트 문제점
2. 일반적인 문제 해결
   - **린터**
     - JSHint
     - CodeEditor Plugin
     - ESLint
   - **브라우저 개발자 도구**
     - Console API
     - JavaScript 디버거
   - **성능 문제**
3. 브라우저 간 JavaScript 문제
   - **최신 JavaScript/API 기능 사용**
   - **잘못된 브라우저 스니핑 코드 사용**
   - **JavaScript 접두사 처리**

---

## 5. 일반적인 접근성 문제 처리

1. 접근성이란
2. 일반적인 접근성 문제
   - **HTML**
   - **CSS**
   - **JavaScript**
3. 접근성 도구
   - **감사 도구**
   - **자동화 도구**
   - **스크린 리더**
   - **사용자 테스트**
4. 접근성 테스트 체크리스트

---

## 6. 기능 감지 구현

1. 기능 감지의 개념
2. 고유한 기능 감지 테스트 작성
   - **CSS**
     1. @supports
   - **JavaScript**
3. Modernizr를 사용하여 기능 감지 구현
   - **CSS**
   - **JavaScript**

---

## 7. 자동화 테스트 소개

1. 자동화는 일을 쉽게 만듬
   - Grunt,Gulp,npm script를 사용해 빌드 프로세스 중에 테스트 실행 및 코드 정리.(코드린팅, 축소, CSS 접두사 추가, JavaScript 트랜스파일 등)
   - Selenium, LambdaTest, Sauce Labs, BrowserStack, TestingBot 자동화 시스템 사용.
2. 태스크 러너를 사용하여 테스트 도구 자동화
   - **Nodejs 및 npm**
   - **Gulp 자동화 설정**
   - **Gulp에 실제 작업 추가**
   - **기타 태스크 러너**
3. 상용 테스트 서비스를 사용하여 브라우저 테스트 속도 향상
   - **LambdaTest**
   - **Sauce Labs**
   - **BrowserStack**
   - **TestingBot**

---

## 8. 자체 테스트 자동화 환경 설정

1. Selenium
   - **Node에서 Selenium 설정**
2. 한 번에 여러 브라우저에서 테스트
3. WebDriver 구문 집중 강좌
   - **새로운 테스트 시작**
   - **테스트 할 문서 얻기**
   - **문서와 상호 작용**
   - **요소 테스트**
   - **완료되기를 기다리는 중**
   - **사용 후 드라이버 종료**
4. 모범 사례 테스트
5. 원격 테스트 실행
   - **LambdaTest**
   - **BrowserStack**
   - **Sauce Labs**
   - **자신의 원격 서버**
6. Selenium과 CI 도구 통합

---
